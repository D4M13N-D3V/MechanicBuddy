# Template for tenant API secrets
# Replace placeholders before applying:
#   - YOUR_JWT_SECRET
#   - YOUR_CONSUMER_SECRET
#   - YOUR_DB_PASSWORD
#   - YOUR_SMTP_PASSWORD (Resend API key)
#
# Apply with: kubectl apply -f tenant-secrets.yaml
---
apiVersion: v1
kind: Secret
metadata:
  name: api-secrets-testt
  namespace: mb-testt
  labels:
    app: mechanicbuddy-api
    tenant-id: testt
type: Opaque
stringData:
  appsettings.Secrets.json: |
    {
      "PdfDirectory": "/var/mechanicbuddy/pdf",
      "PuppeteerPath": "/opt/puppeteer",
      "JwtOptions": {
        "Secret": "YOUR_JWT_SECRET",
        "ConsumerSecret": "YOUR_CONSUMER_SECRET"
      },
      "DbOptions": {
        "Host": "postgres.default.svc.cluster.local",
        "Port": 5432,
        "UserId": "postgres",
        "Password": "YOUR_DB_PASSWORD",
        "Name": "mechanicbuddy",
        "Schema": "tenant_testt",
        "MultiTenancy": {
          "Enabled": true,
          "TenantId": "testt"
        }
      },
      "SmtpOptions": {
        "Host": "smtp.resend.com",
        "Port": "587",
        "User": "resend",
        "Password": "YOUR_SMTP_PASSWORD"
      },
      "Cors": {
        "Mode": "open",
        "AppHost": "testt.mechanicbuddy.app"
      }
    }
